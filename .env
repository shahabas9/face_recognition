# ============================================================================
# Face Recognition System Configuration
# ============================================================================

# ============================================================================
# ENVIRONMENT & API SETTINGS
# ============================================================================

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_KEY=testkey123
REQUIRE_AUTH=false

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
MYSQL_USER=2cloud
MYSQL_PASSWORD=shahabas@2cloud
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_DB=face_recognition

# ============================================================================
# FACE RECOGNITION SETTINGS
# ============================================================================
# Face recognition confidence threshold
# Range: 0.0 - 1.0
# Lower = more permissive (more false positives)
# Higher = more strict (fewer false positives, more false negatives)
# Recommended: 0.5-0.6
RECOGNITION_THRESHOLD=0.8

# Minimum face size to detect (in pixels)
# Lower = detect smaller faces (slower, more false positives)
# Higher = only detect larger faces (faster, fewer false positives)
# Recommended: 40-80
MIN_FACE_SIZE=40

# Face detection confidence threshold
# Range: 0.0 - 1.0
# Lower = more faces detected (more false positives)
# Higher = fewer faces detected (higher quality detections)
# Recommended: 0.5-0.7
DETECTION_CONFIDENCE=0.8

# ============================================================================
# ANTI-SPOOFING (SILENT-FACE) SETTINGS
# ============================================================================
# Enable or disable the Silent-Face anti-spoofing pipeline
ENABLE_ANTI_SPOOFING=true

# Threshold for classifying a face as live (0.0 - 1.0)
# Higher = stricter liveness requirement
ANTI_SPOOFING_THRESHOLD=0.1

# Path to the cloned Silent-Face-Anti-Spoofing repository
SILENT_FACE_ROOT=/Users/shahabas/work/face_recognition/Silent-Face-Anti-Spoofing

# Path to Silent-Face model weights (MiniFASNet variants)
SILENT_FACE_MODEL_DIR=/Users/shahabas/work/face_recognition/Silent-Face-Anti-Spoofing/resources/anti_spoof_models

# ============================================================================
# PERFORMANCE SETTINGS
# ============================================================================
# Identification timeout in milliseconds
# Maximum time allowed for one identification operation
IDENTIFICATION_TIMEOUT_MS=300

# Frames per second to process from video stream
# Higher = more detections, more CPU usage
# Lower = fewer detections, less CPU usage
PROCESS_FPS=3

# Force CPU computation (disable GPU)
# Set to 'true' for CPU-only processing (more compatible)
# Set to 'false' to auto-detect and use GPU if available
FORCE_CPU=true

# ============================================================================
# IP WEBCAM SETTINGS
# ============================================================================
# IP Webcam URL from mobile phone
# Update with your mobile phone's IP address when running IP Webcam app
# Example: http://192.168.1.107:8080/video
IP_WEBCAM_URL=http://192.168.68.106:8080/video

# Delay before reconnecting to webcam (seconds)
STREAM_RECONNECT_DELAY=10

# Webcam stream timeout (milliseconds)
STREAM_TIMEOUT_MS=5000

# ============================================================================
# EVENT SETTINGS
# ============================================================================
# Cooldown between detection events (seconds)
# Prevents duplicate events for same person in quick succession
EVENT_COOLDOWN_SECONDS=30

# Attendance cooldown between marking same person (seconds)
# 5 minutes = 300 seconds
ATTENDANCE_COOLDOWN_SECONDS=300

# ============================================================================
# STORAGE SETTINGS
# ============================================================================
# Maximum age of snapshot files before deletion (days)
MAX_SNAPSHOT_AGE_DAYS=7

# Maximum size of log file before rotation (MB)
MAX_LOG_SIZE_MB=100

# ============================================================================
# LOGGING
# ============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=DEBUG

# ============================================================================
# CORS SETTINGS
# ============================================================================
# Allowed origins for CORS (comma-separated)
# Use '*' to allow all origins (not recommended for production)
CORS_ORIGINS=*

# ============================================================================
# PERSON ID SETTINGS
# ============================================================================
# Reuse deleted person IDs for new enrollments
REUSE_DELETED_IDS=true

# ============================================================================


ENABLE_LIVENESS=true
LIVENESS_THRESHOLD=0.30